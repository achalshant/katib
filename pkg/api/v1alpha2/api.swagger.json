{
  "swagger": "2.0",
  "info": {
    "title": "api.proto",
    "version": "version not set"
  },
  "schemes": [
    "http",
    "https"
  ],
  "consumes": [
    "application/json"
  ],
  "produces": [
    "application/json"
  ],
  "paths": {
    "/api/Manager/GetSuggestions": {
      "post": {
        "summary": "* \nGet Suggestions from a Suggestion service.",
        "operationId": "GetSuggestions",
        "responses": {
          "200": {
            "description": "",
            "schema": {
              "$ref": "#/definitions/alpha2GetSuggestionsReply"
            }
          }
        },
        "parameters": [
          {
            "name": "body",
            "in": "body",
            "required": true,
            "schema": {
              "$ref": "#/definitions/alpha2GetSuggestionsRequest"
            }
          }
        ],
        "tags": [
          "Manager"
        ]
      }
    },
    "/api/Manager/ValidateAlgorithmSettings": {
      "post": {
        "summary": "* \nValidate AlgorithmSettings in an Experiment.\nSuggestion service should return INVALID_ARGUMENT Error when the parameter is invalid",
        "operationId": "ValidateAlgorithmSettings",
        "responses": {
          "200": {
            "description": "",
            "schema": {
              "$ref": "#/definitions/alpha2ValidateAlgorithmSettingsReply"
            }
          }
        },
        "parameters": [
          {
            "name": "body",
            "in": "body",
            "required": true,
            "schema": {
              "$ref": "#/definitions/alpha2ValidateAlgorithmSettingsRequest"
            }
          }
        ],
        "tags": [
          "Manager"
        ]
      }
    }
  },
  "definitions": {
    "ExperimentSpecParameterSpecs": {
      "type": "object",
      "properties": {
        "parameters": {
          "type": "array",
          "items": {
            "$ref": "#/definitions/alpha2ParameterSpec"
          }
        }
      },
      "title": "* \nList of ParameterSpec"
    },
    "NasConfigOperations": {
      "type": "object",
      "properties": {
        "operation": {
          "type": "array",
          "items": {
            "$ref": "#/definitions/alpha2Operation"
          }
        }
      }
    },
    "TrialSpecParameterAssignments": {
      "type": "object",
      "properties": {
        "assignments": {
          "type": "array",
          "items": {
            "$ref": "#/definitions/alpha2ParameterAssignment"
          }
        }
      },
      "title": "* \nList of ParameterAssignment"
    },
    "TrialStatusTrialConditionType": {
      "type": "string",
      "enum": [
        "PENDING",
        "RUNNING",
        "COMPLETED",
        "KILLED",
        "FAILED"
      ],
      "default": "PENDING"
    },
    "alpha2AlgorithmSetting": {
      "type": "object",
      "properties": {
        "name": {
          "type": "string"
        },
        "value": {
          "type": "string"
        }
      }
    },
    "alpha2AlgorithmSpec": {
      "type": "object",
      "properties": {
        "algorithm_name": {
          "type": "string"
        },
        "algorithm_setting": {
          "type": "array",
          "items": {
            "$ref": "#/definitions/alpha2AlgorithmSetting"
          }
        },
        "early_stopping_spec": {
          "$ref": "#/definitions/alpha2EarlyStoppingSpec"
        }
      }
    },
    "alpha2EarlyStoppingSpec": {
      "type": "object"
    },
    "alpha2ExperimentSpec": {
      "type": "object",
      "properties": {
        "parameter_specs": {
          "$ref": "#/definitions/ExperimentSpecParameterSpecs"
        },
        "objective": {
          "$ref": "#/definitions/alpha2ObjectiveSpec"
        },
        "algorithm": {
          "$ref": "#/definitions/alpha2AlgorithmSpec"
        },
        "trial_template": {
          "type": "string"
        },
        "parallel_trial_count": {
          "type": "integer",
          "format": "int32"
        },
        "max_trial_count": {
          "type": "integer",
          "format": "int32"
        },
        "metrics_collector_type": {
          "type": "string"
        },
        "nas_config": {
          "$ref": "#/definitions/alpha2NasConfig"
        }
      },
      "description": "*\nSpec of a Experiment. Experiment represents a single optimization run over a feasible space. \nEach Experiment contains a configuration describing the feasible space, as well as a set of Trials.\nIt is assumed that objective function f(x) does not change in the course of a Experiment."
    },
    "alpha2FeasibleSpace": {
      "type": "object",
      "properties": {
        "max": {
          "type": "string"
        },
        "min": {
          "type": "string"
        },
        "list": {
          "type": "array",
          "items": {
            "type": "string"
          }
        },
        "step": {
          "type": "string"
        }
      },
      "description": "*\nFeasible space for optimization.\nInt and Double type use Max/Min.\nDiscrete and Categorical type use List."
    },
    "alpha2GetSuggestionsReply": {
      "type": "object",
      "properties": {
        "trials": {
          "$ref": "#/definitions/alpha2Trial"
        }
      }
    },
    "alpha2GetSuggestionsRequest": {
      "type": "object",
      "properties": {
        "experiment_name": {
          "type": "string"
        },
        "algorithm_name": {
          "type": "string"
        },
        "request_number": {
          "type": "integer",
          "format": "int32"
        }
      }
    },
    "alpha2GraphConfig": {
      "type": "object",
      "properties": {
        "num_layers": {
          "type": "integer",
          "format": "int32"
        },
        "input_sizes": {
          "type": "array",
          "items": {
            "type": "integer",
            "format": "int32"
          }
        },
        "output_sizes": {
          "type": "array",
          "items": {
            "type": "integer",
            "format": "int32"
          }
        }
      },
      "title": "*\nGraphConfig contains a config of DAG"
    },
    "alpha2Metric": {
      "type": "object",
      "properties": {
        "name": {
          "type": "string"
        },
        "value": {
          "type": "string"
        }
      }
    },
    "alpha2NasConfig": {
      "type": "object",
      "properties": {
        "graph_config": {
          "$ref": "#/definitions/alpha2GraphConfig"
        },
        "operations": {
          "$ref": "#/definitions/NasConfigOperations"
        }
      },
      "title": "*\nNasConfig contains a config of NAS job"
    },
    "alpha2ObjectiveSpec": {
      "type": "object",
      "properties": {
        "type": {
          "$ref": "#/definitions/alpha2ObjectiveType"
        },
        "goal": {
          "type": "number",
          "format": "float"
        },
        "objective_metric_name": {
          "type": "string"
        },
        "additional_metrics_names": {
          "type": "array",
          "items": {
            "type": "string"
          }
        }
      }
    },
    "alpha2ObjectiveType": {
      "type": "string",
      "enum": [
        "UNKNOWN",
        "MINIMIZE",
        "MAXIMIZE"
      ],
      "default": "UNKNOWN",
      "description": "*\nDirection of optimization. Minimize or Maximize."
    },
    "alpha2Observation": {
      "type": "object",
      "properties": {
        "metrics": {
          "type": "array",
          "items": {
            "$ref": "#/definitions/alpha2Metric"
          }
        }
      }
    },
    "alpha2Operation": {
      "type": "object",
      "properties": {
        "operation_type": {
          "type": "string"
        },
        "parameters": {
          "type": "array",
          "items": {
            "$ref": "#/definitions/alpha2ParameterSpec"
          },
          "title": "* \nList of ParameterSpec"
        }
      },
      "title": "*\nConfig for operations in DAG"
    },
    "alpha2ParameterAssignment": {
      "type": "object",
      "properties": {
        "name": {
          "type": "string"
        },
        "value": {
          "type": "string"
        }
      }
    },
    "alpha2ParameterSpec": {
      "type": "object",
      "properties": {
        "name": {
          "type": "string"
        },
        "parameter_type": {
          "$ref": "#/definitions/alpha2ParameterType"
        },
        "feasible_space": {
          "$ref": "#/definitions/alpha2FeasibleSpace"
        }
      },
      "description": "*\nConfig for a Hyper parameter.\nKatib will create each Hyper parameter from this config."
    },
    "alpha2ParameterType": {
      "type": "string",
      "enum": [
        "UNKNOWN_TYPE",
        "DOUBLE",
        "INT",
        "DISCRETE",
        "CATEGORICAL"
      ],
      "default": "UNKNOWN_TYPE",
      "description": "*\nTypes of value for HyperParameter."
    },
    "alpha2Trial": {
      "type": "object",
      "properties": {
        "name": {
          "type": "string"
        },
        "spec": {
          "$ref": "#/definitions/alpha2TrialSpec"
        },
        "status": {
          "$ref": "#/definitions/alpha2TrialStatus"
        }
      }
    },
    "alpha2TrialSpec": {
      "type": "object",
      "properties": {
        "experiment_name": {
          "type": "string"
        },
        "parameter_assignments": {
          "$ref": "#/definitions/TrialSpecParameterAssignments"
        },
        "run_spec": {
          "type": "string"
        }
      }
    },
    "alpha2TrialStatus": {
      "type": "object",
      "properties": {
        "start_time": {
          "type": "string"
        },
        "completion_time": {
          "type": "string"
        },
        "condition": {
          "$ref": "#/definitions/TrialStatusTrialConditionType"
        },
        "observation": {
          "$ref": "#/definitions/alpha2Observation"
        }
      }
    },
    "alpha2ValidateAlgorithmSettingsReply": {
      "type": "object",
      "title": "*\nReturn INVALID_ARGUMENT Error if Algorithm Settings are not Valid"
    },
    "alpha2ValidateAlgorithmSettingsRequest": {
      "type": "object",
      "properties": {
        "experiment_spec": {
          "$ref": "#/definitions/alpha2ExperimentSpec"
        },
        "algorithm_name": {
          "type": "string"
        }
      }
    }
  }
}
